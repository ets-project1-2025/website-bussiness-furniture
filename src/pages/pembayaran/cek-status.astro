---
// src/pages/pembayaran/cek-status.astro
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

// Dalam implementasi nyata, halaman ini akan:
// 1. Menerima callback dari layanan pembayaran
// 2. Memperbarui status pesanan di database
// 3. Menampilkan status pembayaran kepada pengguna

// Contoh sederhana untuk menampilkan status pembayaran
const orderId = '12345678'; // Ini seharusnya datang dari parameter atau callback
const paymentStatus = 'success'; // Ini seharusnya datang dari layanan pembayaran
---

<Layout>
  <Header />
  
  <!-- Header Halaman -->
  <section class="bg-[var(--furniture-cream)] py-8 px-6">
    <div class="container mx-auto text-center">
      <h1 class="text-3xl font-bold text-[var(--furniture-brown)]">Status Pembayaran</h1>
    </div>
  </section>
  
  <main class="container mx-auto py-8 px-4">
    <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-md p-8 text-center">
      {paymentStatus === 'success' ? (
        <>
          <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <h2 class="text-2xl font-bold text-gray-900 mb-2">Pembayaran Berhasil!</h2>
          <p class="text-gray-600 mb-6">Terima kasih atas pembayaran Anda. Pesanan #{orderId} telah diproses.</p>
          <div class="flex justify-center space-x-4">
            <a href={`/pesanan/${orderId}`} class="btn-primary">Lihat Pesanan</a>
            <a href="/produk" class="btn-secondary">Lanjutkan Belanja</a>
          </div>
        </>
      ) : paymentStatus === 'pending' ? (
        <>
          <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-yellow-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <h2 class="text-2xl font-bold text-gray-900 mb-2">Menunggu Pembayaran</h2>
          <p class="text-gray-600 mb-6">Pembayaran Anda sedang diproses. Silakan cek kembali nanti.</p>
          <div class="flex justify-center">
            <a href={`/pesanan/${orderId}`} class="btn-primary">Cek Status Pesanan</a>
          </div>
        </>
      ) : (
        <>
          <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </div>
          <h2 class="text-2xl font-bold text-gray-900 mb-2">Pembayaran Gagal</h2>
          <p class="text-gray-600 mb-6">Terjadi kesalahan dalam pembayaran Anda. Silakan coba lagi.</p>
          <div class="flex justify-center space-x-4">
            <a href={`/pesanan/${orderId}`} class="btn-primary">Coba Lagi</a>
            <a href="/kontak" class="btn-secondary">Hubungi Kami</a>
          </div>
        </>
      )}
    </div>
  </main>
  
  <Footer />
</Layout>